#ifndef __SCREENBUFFER__H_
#define __SCREENBUFFER__H_
#include "Console.h"

class ScreenBuffer
{
private:
	ScreenBuffer();
	~ScreenBuffer();
public:
	static ScreenBuffer* GetInstance();

	//--------------------------------------------------------------------
	// 게임 화면 범위를 체크하는 함수
	//--------------------------------------------------------------------
	static bool IsOutOfScreen(int x, int y);
	
	//--------------------------------------------------------------------
	// 버퍼의 내용을 화면으로 찍어주는 함수.
	//
	// 적군,아군,총알 등을 szScreenBuffer 에 넣어주고, 
	// 1 프레임이 끝나는 마지막에 본 함수를 호출하여 버퍼 -> 화면 으로 그린다.
	//--------------------------------------------------------------------
	void Buffer_Flip(void);

	//--------------------------------------------------------------------
	// 화면 버퍼를 지워주는 함수
	//
	// 매 프레임 그림을 그리기 직전에 버퍼를 지워 준다. 
	// 안그러면 이전 프레임의 잔상이 남으니까
	//--------------------------------------------------------------------
	void Buffer_Clear(void);

	//--------------------------------------------------------------------
	// 버퍼의 특정 위치에 원하는 문자를 출력.
	//
	// 입력 받은 X,Y 좌표에 아스키코드 하나를 출력한다. (버퍼에 그림)
	//--------------------------------------------------------------------
	void Sprite_Draw(int iX, int iY, char chSprite);
private:
	char _screenBuffer[dfSCREEN_HEIGHT][dfSCREEN_WIDTH];
	static ScreenBuffer _instance;
};

#endif // ! __SCREENBUFFER__H_
